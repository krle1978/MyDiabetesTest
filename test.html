<!DOCTYPE html>
<html lang="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Diabetes Model</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #status-text { font-weight: bold; margin-bottom: 10px; }
    #status-loader { font-size: 24px; margin-left: 10px; }
  </style>
</head>
<body>

<h1>Test Diabetes Model</h1>
<div id="status">
  <span id="status-text">Status: ‚ùå</span>
  <span id="status-loader"></span>
</div>

<script>
async function testModel() {
  const statusText = document.getElementById("status-text");
  const statusLoader = document.getElementById("status-loader");
  const loaderSymbols = ["‚è≥","‚åõ","üîÑ"];
  let loaderIndex = 0;
  let loaderInterval = setInterval(() => {
    statusLoader.textContent = loaderSymbols[loaderIndex % loaderSymbols.length];
    loaderIndex++;
  }, 300);

  try {
    const model = await tf.loadLayersModel("./model_tfjs/model.json");
    const scalerResponse = await fetch("./model_tfjs/scaler.json");
    const scaler = await scalerResponse.json();

    clearInterval(loaderInterval);
    statusLoader.textContent = "";
    statusText.textContent = "Model i scaler uspe≈°no uƒçitani ‚úÖ";
    statusText.style.color = "green";

    console.log("Model:", model);
    console.log("Scaler:", scaler);

  } catch (err) {
    clearInterval(loaderInterval);
    statusLoader.textContent = "";
    statusText.textContent = "Gre≈°ka pri uƒçitavanju modela/scalera ‚ùå";
    statusText.style.color = "red";
    console.error(err);
  }
}

window.addEventListener("load", testModel);
</script>

</body>
</html>
